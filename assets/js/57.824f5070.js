(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{655:function(s,a,t){"use strict";t.r(a);var n=t(11),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"进制转换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进制转换"}},[s._v("#")]),s._v(" 进制转换")]),s._v(" "),t("p",[s._v("解决 "),t("code",[s._v("0.1 + 0.2 = 0.3?")]),s._v(" 问题")]),s._v(" "),t("h3",{attrs:{id:"二进制如何转换为十进制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二进制如何转换为十进制"}},[s._v("#")]),s._v(" 二进制如何转换为十进制")]),s._v(" "),t("p",[s._v("例如二进制 101.1 如何转换为十进制，有些同学可能会想到 "),t("code",[s._v("parseInt('101.1', 2)")]),s._v(", 但是 parseInt 会返回整数，所以是不对的。转化方法如下:")]),s._v(" "),t("blockquote",[t("p",[s._v("101.1 -> 1 * 2^2 + 0 * 2^1 + 1 * 2^0 + 1 * 2^-1 = 5.5")])]),s._v(" "),t("p",[s._v("转换规则如下: "),t("strong",[s._v("二进制的每个数乘上 2 的相应次方，小数点后是乘上 -2 的相应次方")])]),s._v(" "),t("h3",{attrs:{id:"十进制转换为二进制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#十进制转换为二进制"}},[s._v("#")]),s._v(" 十进制转换为二进制")]),s._v(" "),t("p",[s._v("JS里面可以使用 "),t("code",[s._v("toString(2)")]),s._v(" 这个方法来进行转换，如 "),t("code",[s._v("29..toString(2) -> '11101'")]),s._v("，其算法如下:")]),s._v(" "),t("ul",[t("li",[s._v("把给定的十进制数29除以2，商为14，所得的余数1是二进制数的最低位的数码")]),s._v(" "),t("li",[s._v("再将14除以2，商为7，余数为0")]),s._v(" "),t("li",[s._v("再将7除以2，商为3，余数为1，再将3除以2，商为1，余数为1")]),s._v(" "),t("li",[s._v("再将1除以2，商为0，余数为1是二进制数的最高位的数码")])]),s._v(" "),t("h3",{attrs:{id:"十进制小数转换为二进制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#十进制小数转换为二进制"}},[s._v("#")]),s._v(" 十进制小数转换为二进制")]),s._v(" "),t("p",[s._v("方式是采用 "),t("strong",[s._v("乘2取整，顺序排列")]),s._v(" 法。具体做法是：")]),s._v(" "),t("ul",[t("li",[s._v("用2乘十进制小数，可以得到积，将积的整数部分取出-")]),s._v(" "),t("li",[s._v("再用2乘余下的小数部分，又得到一个积，再将积的整数部分取出")]),s._v(" "),t("li",[s._v("如此进行，直到积中的小数部分为零，或者达到所要求的精度为止")])]),s._v(" "),t("p",[t("strong",[s._v("举个例子🌰")]),s._v("，十进制 0.25 转为二进制:")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("0.25 * 2 = 0.5")]),s._v(", 取出整数部分 0")]),s._v(" "),t("li",[t("code",[s._v("0.5 * 2 = 1.0")]),s._v(", 取出整数部分 1")])]),s._v(" "),t("p",[s._v("即十进制 0.25 转为二进制为 "),t("code",[s._v("0.01")]),s._v("（第一次所得到为最高位,最后一次得到为最低位）")]),s._v(" "),t("p",[s._v("此时我们可以试试十进制 0.1 和 0.2 如何转为二进制:")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0.1计算")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("十进制"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0001100110011001")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("二进制"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n十进制数0.1转二进制计算过程：\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("*2＝0.2……0 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为0。整数部分0清零后为0，用0.2接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("*2＝0.4……0 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为0。整数部分0清零后为0，用0.4接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v("*2＝0.8……0 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为0。整数部分0清零后为0，用0.8接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),s._v("*2＝1.6……1 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为1。整数部分1清零后为0，用0.6接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v("*2＝1.2……1 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为1。整数部分1清零后为0，用0.2接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("*2＝0.4……0 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为0。整数部分0清零后为0，用0.4接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v("*2＝0.8……0 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为0。整数部分0清零后为0，用0.8接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),s._v("*2＝1.6……1 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为1。整数部分1清零后为0，用0.6接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v("*2＝1.2……1 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为1。整数部分1清零后为0，用0.2接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("*2＝0.4……0 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为0。整数部分0清零后为0，用0.4接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v("*2＝0.8……0 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为0。整数部分0清零后为0，用0.2接着计算。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),s._v("*2＝1.6……1 ——"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 整数部分为1。整数部分1清零后为0，用0.2接着计算。\n……\n……\n\n所以，得到的整数依次是：0，0，0，1，1，0，0，1，1，0，0，1……。\n由此，大家肯定能看出来，整数部分出现了无限循环\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0.2计算")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("十进制"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00110011001100110011")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("二进制"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("*2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v(" 整数位为0\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v("*2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),s._v(" 整数位为0\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),s._v("*2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.6")]),s._v(" 整数位为1,去掉整数位得0.6\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v("*2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),s._v(" 整数位为1,去掉整数位得0.2\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),s._v("*2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v(" 整数位为0\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v("*2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8")]),s._v(" 整数位为0\n\n就这样推下去！小数*2整,一直下去就行，这个数整不断\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("p",[s._v("所以 "),t("code",[s._v("0.1")]),s._v(" 和 "),t("code",[s._v("0.2")]),s._v(" 都无法完美转换为十进制，所以相加得到的结果当然不是 "),t("code",[s._v("0.3")]),s._v(" 了。")])])}),[],!1,null,null,null);a.default=r.exports}}]);