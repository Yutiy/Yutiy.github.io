---
title: '使用JS实现复制功能'
date: 2020-03-26
permalink: 'html/clipboard'
tag:
  - html
categories:
  - html
---

```js
const copyToClipboard = str => {
  if (navigator.clipboard) {
    // clipboard api 复制
    navigator.clipboard.writeText(text);
  } else {
    const textarea = document.createElement('textarea');
    document.body.appendChild(textarea);
    // 隐藏此输入框
    textarea.style.position = 'fixed';
    textarea.style.clip = 'rect(0 0 0 0)';
    textarea.style.top = '10px';
    textarea.value = text;  // 赋值
    textarea.select();  // 选中
    document.execCommand('copy', true); // 复制
    document.body.removeChild(textarea);  // 移除输入框
  }
}

copyToClipboard('Lorem ipsum'); // 'Lorem ipsum' copied to clipboard.
```
