---
title: '实现instanceof'
date: 2020-03-26
permalink: 'js_deep/instanceof'
tag:
  - javascript基础系列
categories:
  - javascript基础系列
---

## 实现

```js
const instanceof = function(left, right) {
  if (typeof right !== 'function') throw new Error('instance error');
  if (!left || (typeof left !== 'object' && typeof left !== 'function')) return false;

  left = left.__proto__;        // 获取对象的原型
  let proto = right.prototype;  // 获取类型的原型

  while(true) {
    if (left === null) return false;
    if (left === proto) return true;
    left = left.__proto__;
  }
}
```
