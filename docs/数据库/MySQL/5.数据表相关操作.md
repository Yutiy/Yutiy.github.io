---
title: '数据表相关操作'
date: 2020-03-26
permalink: 'mysql/database_table'
tag:
  - mysql
categories:
  - mysql
---

## 数据表

- 数据表是数据库的组成部分之一，数据都是保存在数据表中
- 数据表由行(ROW)和列(COLUMN)组成
- 每个数据表至少有1列，行可以有零行一行或者多行来构成
- 表名要求唯一，不要包含特殊字符，并且含义要明确

## 创建表

```mysql
  CREATE TABLE [IF NOT EXISTS] tb_name(
    字段名称 字段类型 [完整性约束条件],
    字段名称 字段类型 [完整性约束条件],
    ...
  )ENGINE=存储引擎 CHARSET=编码方式`
```

- UNSIGNED -> 无符号，没有负数，从0开始
- ZEROFILL -> 零填充，当数据的显示长度不够的时候可以使用前补0的效果填充至指定长度,字段会自动添加UNSIGNED
- NOT NULL -> 非空约束，也就是插入值的时候这个字段必须要给值,值不能为空
- DEFAULT -> 默认值，如果插入记录的时候没有给字段赋值，则使用默认值
- PRIMARY KEY -> 主键，标识记录的唯一性，值不能重复，一个表只能有一个主键，自动禁止为空
- AUTO_INCREMENT -> 自动增长，只能用于数值列，而且配合索引使用,默认起始值从1开始，每次增长1
- UNIQUE KEY -> 唯一性，一个表中可以有多个字段是唯一索引，同样的值不能重复，但是NULL值除外
- FOREIGN KEY -> 外键约束

## 查看当前数据库下已有数据表

- `SHOW TABLES;`
- `SHOW [FULL] TABLES [{FROM | IN} db_name] [LIKE 'pattern' | WHERE expr];`

## 查看指定数据表的详细信息

`SHOW CREATE TABLE tb_name;`

## 查看表结构

- `{DESC|DESCRIBLE} tb_name;`
- `SHOW COLUMNS FROM tb_name;`

## 删除指定数据表

`DROP TABLE [IF EXISTS] tb_name;`

## 表结构相关操作

### 添加字段

`ALTER TABLE tb_name ADD 字段名称 字段属性 [完整性约束条件] [FIRST|AFTER 字段名称];`

### 删除字段

`ALTER TABLE tb_name DROP 字段名称;`

### 添加默认值

`ALTER TABLE tb_name ALTER 字段名称 SET DEFAULT 默认值;`

### 删除默认值

`ALTER TABLE tb_name ALTER 字段名称 DROP DEFAULT;`

### 修改字段类型、字段属性

`ALTER TABLE tb_name ALTER MODIFY 字段名称 字段属性 [完整性约束条件] [FIRST|AFTER 字段名称];`

### 修改字段名称、字段类型、字段属性

`ALTER TABLE tb_name ALTER CHANGE 原字段名称 新字段名称 字段属性 [完整性约束条件] [FIRST|AFTER 字段名称];`

### 添加主键

`ALTER TABLE tb_name ALTER ADD PRIMARY KEY(字段名称);`

### 删除主键

`ALTER TABLE tb_name ALTER DROP PRIMARY KEY;`

### 添加索引

`ALTER TABLE tb_name ALTER ADD UNIQUE KEY|INDEX [index_name](字段名称);`

### 删除索引

`ALTER TABLE tb_name ALTER DROP index_name;`

### 修改数据表名称

- `ALTER TABLE tb_name RENAME [TO|AS] new_tb_name;`
- `RENAME TABLE tb_name TO new_tb_name;`

### 修改AUTO_INCREMENT的值

`ALTER TABLE tb_name AUTO_INCREMENT=值;`
