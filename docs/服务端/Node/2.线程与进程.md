---
title: '线程与进程'
date: 2020-03-26
permalink: 'node/process'
tag:
  - node
categories:
  - node
---

## 进程

进程 `Process` 是计算机中的程序关于某数据集合上的一次运行活动，是系统进行资源分配和调度的基本单位，是操作系统结构的基础。NodeJS中通过 `node app.js` 就可以开启一个服务进程，多进程就是进程的复制(fork)，fork 出来的每个进程都拥有自己的独立空间地址、数据栈，一个进程无法访问另一个进程里定义的变量、数据结构，只有建立了 RPC 通信，进程之间才可以数据共享。

**Node.js开启服务进程**

```js
const http = require('http');

const server = http.createServer();
server.listen(3000, () => {
  process.title = 'node 进程';
  console.log('进程id: ', process.pid);
})
```

## 线程

线程是操作系统能够进行运算调度的最小单位，线程是隶属于进程的，被包含于进程之中。**一个线程只能隶属于一个进程，但是一个进程是可以拥有多个线程的**。

## 单线程

**单线程就是一个进程只开一个线程。** Javascript就属于单线程，程序顺序执行，故切勿有过多耗时的同步操作，否则线程会阻塞，导致后续相应无相应，所以应尽量利用其异步操作的特性。

## 参考

[深入理解 Node.js 进程与线程](https://mp.weixin.qq.com/s/VzXnnfn4gCBMd5wea3LRIg)
