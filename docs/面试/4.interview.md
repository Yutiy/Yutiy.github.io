---
title: 'interview'
date: 2020-03-26
permalink: 'interview/111'
tag:
  - 面试
categories:
  - 面试
---

# 面试

## 拼多多

### 1面

1. React16新生命周期，有什么变化

> 两个static、一个didcatch捕获错误的、一个getsnapshot

2. React16之前的那些不好的生命周期怎么过度到React16新的生命周期[描述、举例]

> getDriverStateFromProps替代componentWillReceiveProps，加上逻辑对比上次state和props来决定state，willUpdate换成getSnapshotBeforeUpdate，willmount直接写成初始state

3. componentWillReceiveProps用到了this，getDriverStateFromProps也要用，怎么办

> 把this.xxx存到state里面，第二个参数是state，里面有xxx（函数组件useRef）, 如果和内部变量无关，把它抠到class组件外面去

4. 求最大公共前缀，如`['aaafsd', 'aawwewer', 'aaddfff'] => 'aa'`
5. 求最大公共路径前缀，如`['aa/bb/sd', 'aa/bb/wwewer', 'aa/bb/ddfff'] => 'aa/bb'`

7. ts的type和interface什么区别【描述】

> 经典问题，网上可搜，主要是列举出两者的特点，对比一下

8. ssr怎么实现，你们怎么做【描述】【举例】

> 将动态渲染逻辑做到后端去，并把最终html结果直接返回。我们这边是数据动静分离+部分ssr直出，重要的数据ssr，比较慢的接口还是放前端

9. 你们有没有统一构建的cli，怎么实现【描述】【举例】

> 基于react全家桶，ts、eslint、埋点上报、sw都可配置，根据配置生成代码模版，开箱即用

10. 你们项目有ci吗，怎么做，提交的时候会做什么事情【描述】【举例】

> 通过接入公司内部某ci，配置yaml文件，每次监听git hook，并作出对应的行为如安装、lint、部署、搬运、生成change log等等。提交的时候，检查lint、修复autofixable的问题，存在修不了的问题报错，提交失败

11. e2e测试、自动化测试【描述】

> 概念性问题，网上容易搜到。端对端测试，模拟用户行为对网页进行全流程测试；自动化测试，包含很多了，范围更高一个维度

12. git rebase什么作用【描述】

> 概念性问题

### 2面

1. 项目介绍[描述]
2. 项目难点【描述】【举例】

> 一定要拿出最熟悉最自信最能体现自己的项目，这一块是确定面试表现的关键环节。面试中这里可以问个半小时以上。包装假项目的、吹牛的，到这里基本就可以区分出来了。还有项目比较浅的，到这里如果进入尬聊或者冷场，很可能就挂了的

3. 实现一个redux【编程】

> 还是那10几行经典redux，途中会顺便问一下函数式编程、纯函数、副作用这些，网上搜“函数式编程”即可知道这些概念了

4. 如果是用ts写，怎么写【编程】

> 改成ts版本，如果比较熟悉redux+ts的，很快写出来。如果不太熟，熟悉泛型也可以根据表现，很快写出近似的。我说我没有ide提示，不能保证裸写没问题。面试官说没事，只是看看你ts熟悉程度

## 字节跳动

### 1面

1. 项目难点【描述】
2. 如何设计权限系统，如何维护和定义、表的数据结构是怎样的【举例】【描述】

> 我们的项目是rbac1类型的权限系统。展示是树形结构，但权限是扁平化的，只需要勾选权限，可以达到灵活修改权限。比如角色includes权限[1, 2, 3]，某操作需要权限1，只需要判断1是否在角色所有的权限数组里面即可

3. 中间人劫持，怎么防止。x-frame-option?白屏的喔，怎么办？也不一定嵌入iframe啊，可以嵌入脚本、图片，怎么阻止【描述】

> x-frame-option、重定向、https，请求前加密（https、加密代理）、请求中规避（请求拆包）、请求后弥补（前端做一些逻辑）。嵌入非iframe的，如果已经突破了前面两关，走前端逻辑：触发DOMNodeInserted、DOMContentLoaded、DOMAttrModified事件。或者是给能src的标签加上自己的data-xx属性标记区分

4. class组件和function组件对比。写过安卓吗，那对class组件有什么看法【描述】

> 各自特点对比罗列一下。我也不知道有什么很好的，问题都放在这里，说明对方倾向于class组件的，所以一定不能说太多class组件不好，吹捧hook

5. hook缺点，hook代码难维护怎么解决【描述】

> 这种开放性和经验积累的题目真的是最难的，平时大家知道标准答案的题目和这种对比起来，没得比的。这个需要团队的积累，我们这边暂时没什么很大问题，所以感受不到。最基本的，eslint一定要开启，不然会莫名其妙的dep导致更新。其次是根据情况来说一下，function的场景。经验之谈，这里可以讲一篇文章

6. redux为什么每次reducer要返回一个新对象，面对大量节点如何优化【描述】

> 新的props导致更新。大量节点使用immutable

7. immuatable和shouldupdate配合、immuatable数据一些对比问题【描述】

> 这是黄金搭配的方案了，用过的人应该能理解到。中途还问几个看代码判断 === 是否是true的问答题，原则：只要一个节点变了，那么从他开始回溯的所有的父节点全都是新的

8. http缓存、离线包原理、移动端首屏幕加载速度优化【描述】

> http缓存很基础的了，送分题。关键词：强制缓存、协商缓存、304。离线包是腾讯内部app的一种优化方案，将文件缓存到本地，顾名思义离线包。每隔一段时间有拉取新版本机制，会对比一波看看要不要更新。移动端首屏幕加载速度优化：客户端一般就是webview冷启动、预热，内嵌web就很多了，尽力输出吧，ssr、缓存、请求拆分、预加载（对于我来说，所有的优化无非就是缓存、提前拉、分开拉、跳过复杂链路这些手段的变种）

9. 一个很牛逼很多功能的class组件，里面有业务生命周期（获取数据前后、弹出窗口前后...），怎么在函数组件里面直接复用它【举例】

> 先注入到函数组件的props，再到useEffect关键节点里面执行业务生命周期

10. 给定一个整数数组 a，其中1 ≤ a[i] ≤ n （n为数组长度）, 其中有些元素出现两次而其他元素出现一次。【编程】

```bash
找到所有出现两次的元素。你可以不用到任何额外空间并在O(n)时间复杂度内解决这个问题吗？(限时5分钟)

输入:
[4,3,2,7,8,2,3,1]
输出:
[2,3]
```

> 这种题，其实看见不用空间、o(n)时间，通常潜台词就是，用原地哈希来做。做过这题的肯定是秒杀，没做过的慌得一逼，我当时就是没做过的。遍历的时候把数字放到index下（比如数字4放在数组的第4个位置），如果发现后面的数的n,arr[n]已经满足了arr[n] === n那就结果算一个。lc标准答案：和我交换位置不一样，lc的是让那个数变成负数，如果后面发现arr[n]是负数那就算一个，比我的交换index简单很多

### 2面

1. cdn原理【描述】

> 概念性问题。在前后端之间增加的一层缓存层，通过接管DNS实现，将用户的请求转到缓存层上获得源服务器的数据，因此达到优化目的

6. 客户端mock怎么支持【描述】【举例】

> 客户端 => 协议转换服务 => 中转服务 => mock服务（接入mockjs）

7. 怎么mock真数据，我需要真的id怎么办，除了写死【描述】

> 反向抓包，无需自己填充数据。或者全链路监控里面捞出一个id

9. 单元测试和ts结合【描述】【举例】

> 有ts的话，输入参数很容易可以知道有没有问题

10. 全球远程调度机器实现自动化测试【描述】

> 请求 => 分发 => 海外机器 => 调起当地机器 => 自动化脚本(如puppeteer) => 跑ui流程 => 上报结果 => 系统展示

11. cjs实现esm【伪代码】

```js
// esm
export const a = "test";

export default function(){
  console.log(123)
}

// cjs实现的esm
Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function () {
  console.log(123);
};

var a = exports.a = "test";
```

### 3面

1. 项目介绍。权限系统业界内怎么设计，常见的几种【描述】

> rbac0～3、前端简单判断、后端按需返回。这里可以讲很久，分别举例和说明他们的特点

2. 工作量体现到什么地方，现在工作量大吗【描述】

> 重构、树结构组件、各平台数据适配、技术轮子的推广

3. 最困难的环节【举例】

> 一个能光速开发内部系统的公共组件设计、推广自己做的平台给公司其他团队用

4. 优点缺点、未来规划
5. 怕被人挑战吗，怎么应对【描述】

> 个人是有点怂，事情没做到150%或者200%不敢拿出去交付。但做到150%的时候，面对别人挑战也是游刃有余

### 4面

1. 经过前面对了解，你知道我们这边做什么了吗，描述一下【描述】

> 身为问题少年，前面了解足够多了。每次面试结束我问的问题会很多，涉及到技术、团队、业务、公司方向、还有一些闲聊八卦...

2. 我们的技术栈差不多，如果你来上班，如何快速过渡和上手适应【描述】

> 内部系统 => todev系统，针对人群不一样，技术栈类似，容易解决。

3. 对b和c端业务对理解【描述】

> 简单来说，b端ui要求低、架构复杂；c端ui要求高、架构简单。详细的点，引申出去还有很多很多

4. tob业务架构设计、技术选型【举例】

> 先出结构图、流程图，再给出表结构设计，确定了方案，组件、模块划分。技术选型一般就是三大框架+配套的标准ui了，如vue与ele-ui，react与antd，加上状态管理、路由等。如果复杂的混杂多项目多系统，使用微前端，spa或者iframe两种取其一，如果没有历史包袱可选spa、如果有历史包袱使用iframe嵌入，但需要和其他前端进行对协议（前端和前端联调😊）这里可以讲20分钟

5. 项目开发流程、生命周期【举例】

> 按照平时的项目流程讲了一通

6. 自动化测试设计思路【描述】

> 用例、断言、输出结果

## 虾皮

### 1面

1. 项目突出点，挖项目细节问题【描述】
2. 各种情况下的proto指向，多道问答题【描述】

> 有一个class A {},问他的实例a的__proto__和A.prototype的关系，a.__proto__.__proto__是什么，a.__proto__.__proto__.__proto__是什么。然后再问普通对象、function的。这里需要注意一下Function.prototype === Function.__proto__和a的三次proto是null。一开始就问三次取a的proto，其实潜意识是null的，但刚刚下班赶车回家，心跳都没有恢复正常就进入面试，没什么状态，“em～”了10秒钟，面试官说：哎，你别打开控制台喔，别偷偷的运行哦。我说这肯定是原型链终点了，我想想，确认一下——null！犹豫就会败北，开门一波丢脸

7. react性能优化【描述】【举例】

> scu生命周期、memo；usememo & usecallback记住一些值不用重新计算；虚拟列表；immutable+scu/memo；原生js；（这块聊了很久了）

8. 长列表优化，多种方案及对比【举例】

> 虚拟列表、intersectionobserver、监听滚动长列表+raf（经验之谈，聊了很久）

9. diff算法、key作用，不要key会怎样【描述】

> 树diff、组件diff、元素diff；key可以原地复用，没有key无脑会更新（此时你可以发现，index做key其实会形同虚设）

10. react的usememo原理【描述】

> 闭包、缓存、memorize

11. 编程题：对象扁平化【编程】(30min)

```js
{
  "a": {
    "b": {
      "c": {
        "d": 1
      }
    }
  },
  "aa": 2,
  "c": [
    1,
    2
  ]
} =>

{ 'a.b.c.d': 1, aa: 2, 'c[0]': 1, 'c[1]': 2 }
```

> 我一听到30分钟，心里暗暗的想，给30分钟是不是觉得我很菜啊。不管他，先撸为敬。reduce递归+ ...，写+debug总共4分钟就秒杀了，面试官说你怎么不写了，我说已经ok了

### 2面

1. 项目相关，细问【描述】【举例】

> 这里还是问项目。对方以前也是腾讯的，我们也聊了很多腾讯内部相关的事情，挺多共同话题的

2. 如果我接入你做的平台，怎么接入【举例】

> 项目继续挖。我们互相之间说了很多腾讯人特有黑话，拉近感情

3. jsbridge了解么，说一下【举例】

> 没做过，就我之前做少量内嵌webview的经验，我猜一下吧，大概就是两种：注入全局方法通信、监听url协议(如abc://，然后触发请求的地方可以做拦截如img、iframe、xhr、fetch等)。回去查了一下，发现我猜的的确是差不多，只是专业名词没到位，口头话很多

4. addeventlistener第三个参数作用【描述】【举例】

> 控制冒泡/捕获阶段执行。或者是一个对象{ passive: true }，针对的是Safari的，禁止/开启使用滚动的时候要用到

5. cjs和esm区别【描述】

> 概念性问题

6. 为什么浏览器不用cjs而用了esm【举例】

> 个人观点类问题。cjs都是require系统本地文件，时间不用考虑。如果在浏览器使用类似cjs的require，实现过程无非就是创建script标签、发请求。这个发请求的过程就无法保证同步了，你要写成callback/promise/async-await，这样子写页面门槛又高了

9. 跨端的方案【描述】

> 内嵌webview、客户端内嵌js引擎、将js编译为客户端语言运行

10. 编程题：字符串相乘【编程】

## 作业帮

### 1面

2. 项目介绍【描述】
3. cache-loader有什么坑，缓存错误怎么解决【描述】【举例】

> 面试官提到，他们做一个可视化编辑页面的系统，对组件使用了cache-loader，开发中有时候出现缓存错误的文件的问题。他说他们遇到了这个问题，暂时没有解决，叫我猜想一下，可能是什么原因导致的。我说应该是开发过程中，修改了被引用模块/引用模块、或者切换git分支，需要自己删除掉node_modules/.cache或者重启dev server

4. 编程题，9选3（15min）【编程】

- 实现bind(送分)
- 防抖&节流(送分)
- settimeout实现interval(注意和普通的要无差别体验)
- 字符串大小写反转(送分) 节点是不是属于某个节点下(当时我写了一个不带parentid的版本，要自己一层层搜。如果带parentid的，就简单很多了，测试用例你自己写，他们也没有给出)
- 反转链表(常规题)
- 合并数组['a', 'b'], [1, 2, 3] => ['a', 1, 'b', 2, 3] (送分)
- 合并有序数组 [1, 5], [2, 5, 6, 8] => [1, 2, 5, 5, 6, 8] (常规题，而且比合并有序链表还要简单一些)
- 一堆数字字符串组成最大数是多少[50, 2, 5, 9] => 95502 (字典序+贪心)
-

```js
;(() => {
  const list = new Set();
  function myInterval(fn, ms) {
    const ref = {};
    const exec = () => {
      return setTimeout(() => {
        fn.apply(null);
        const timer = exec();
        ref.current = timer;
      }, ms);
    };
    ref.current = exec();
    list.add(ref);
    return ref;
  }

  function myClearInterval(ref) {
    clearTimeout(ref.current);
    list.delete(ref);
  }
  window.myInterval = myInterval;
  window.myClearInterval = myClearInterval;
})()

function getMaxNumber(arr) {
  return arr.sort().reduce((acc = '', cur) => Math.max(+`${acc}${cur}`, +`${cur}${acc}`));
}
```

### 2面

1. 说项目，深挖【描述】
2. react生命周期和diff算法【描述】

> 新的、旧的，hook替代的。树、组件、列表三种diff(故意引话题，等他问key)

3. key的作用【描述】

> 复用元素，描述一下有key的列表diff过程(果然问了key)

4. 内部系统配置页面不写或少写代码的实现思路【描述】【举例】

> 新建页面 => 设置配置、db => 新页面onload => 拉配置，根据db的字段和配置渲染表格 => 配置不能满足的使用装饰器劫持实现个性化 => 业务代码&框架代码分离(微前端架构)

5. 多框架、历史页面怎么解决【举例】

> 旧页面iframe、新页面走上面的流程，多框架使用external + 动态引入

## 猿辅导

### 1面

1. react生命周期介绍，怎么执行。说一下下面的组件生命周期执行顺序【描述】有<A> <B /> </A>这样的组件：

```bash
a.willMount 3
b.willMount 1
a.didMount 4
b.didMount 2

react16前是递归的，是这个顺序。react16后改成fiber架构，是反过来的了，没有像栈那样fifo
```

1. react 17要做什么规划，concurrent mode【描述】

> concurrent mode、去掉危险的生命周期。concurrent mode是react重点面试题了，基于requestidlecallback实现(考虑兼容性，官方自己实现了一个)——浏览器空闲的时候做事情

4. SSR，打开你们的SSR页面看看，具体逻辑、实现方式【描述】

> 发了一个我们的链接给他，并描述了流程

9. 用setTimeout实现setInterval【编程】

> 又问到了，频率有点高

10. Node { value: number; children: Node[] }，算出树每一层节点和，输出数组【编程】

```bash
       2              => 2

    2    3   5        => 10

1   2  3   4   7   8  => 25

// 每一层的和 [2, 10, 25]；
```

### 2面

1. 节流、和防抖的区别，均匀的节流怎么实现【编程】

> 一下子写了最简单的出来，然后他要各种改需求，加功能。要支持配置马上执行、要防抖节流两个结合起来、要均匀

3. 前端路由实现。history什么坑，怎么解决【描述】

> 哈希和history，监听事件、切换元素。history会导致一些新路径404，nginx重定向到首页走js逻辑

5. 一副扑克牌，随机抽 5 张，判断是否是顺子，大小王可以替代任意牌。【编程】 ['A', '2', '3', 'S', 'B'] => true

>先把AJQK映射成数字，然后把大小王S、B换成其他(我直接用symbol代替了)。排序去掉大小王的数组。遍历排序后数组，前一个数和后一个数字差距大于1，减少大小王数量来补。临界条件：前一个数和后一个数字差距大于1且大小王不够补，return false；成功遍历所有的元素，return true

### 3面

1. 项目难点，画一下架构【举例】

> 临时给了一个在线文档地址，然后手绘了架构图

2. 有了解其他权限系统吗，对比下【描述】

> 纠结了一阵我做的权限系统究竟是rbac几。前端控制、后端按需返回

4. 怎么知道一个tcp请求数据已经完了呢【描述】

> 自己知道的，没有长度了

5. 微博的@的下面出现一个提示怎么实现(pc上，类似群里讲话按下@，旁边有一个名字下拉框的那个功能)。不是editable喔，基于textarea怎么实现【伪代码】【描述】

> 一下子说了editable，他说你看看，他是textarea。接着有两种方式，隐藏元素+getboundingclientrect和canvas的mesuretext量长度。他后面说量长度不太行，而且很麻烦

6. 怎么知道客户端是局域网下哪一个ip【描述】

> 客户端连接服务端的时候会携带自己的ip，服务器接收

7. 为什么是tcp而不是udp。tcp丢包怎么办，怎么知道丢包，怎么知道已经重传成功了【描述】

> TCP三次握手保证可靠性，而UDP就没有了，信息发出后,不验证是否到达，不可靠。丢包就重传。有seq，是连续的，如果收到的是不连续，说明中间缺了包；或者是超时了还没收到。因为有seq吧，所以多一个少一个也是知道的

8. 了解http3的quic吗【描述】

> udp快而不可靠，所以衍生quic。对比http2+tcp+tls，quic减少了tcp、tls握手，改进了拥塞控制，前向冗余纠错

9. quic怎么解决了tcp的问题【描述】

> 使用udp作为基础，瞎讲一通拥塞控制、前向冗余纠错、bbr，所知道的概念都甩出去了

10. quic用udp怎么保证了可靠性【描述】

> 用rudp来优化资源的占用率和响应时间，提高系统的并发能力。seq、超时重传、fec前向纠错

11. quic的udp如果不握手，人家随便发请求怎么办【描述】

> 滑动窗口、bbr 拥塞算法

12. 函数式编程、纯函数【描述】

> 先喘一口气，终于不问网络协议了。纯函数无副作用，同样的输入同样的输出。那我在里面定义变量和函数，里面做一些事情做一些修改这些变量的操作，还纯吗？一样的

13. 状态管理系统设计，怎么和函数式编程结合【描述】【举例】

> 常规react+redux项目举例

14. rxjs介绍一下【描述】

> 以前玩过，异步流程控制，流、管道操作符概念

15. 数组和链表的区别【描述】

> 数组易读取，链表只能一个个读或者需要额外空间才能易读取；数组增删元素需要照顾index，链表不用

16. 数组和链表优点缺点，应用场景【举例】

> 数组增删的时候需要维护index，链表不需要考虑，但链表读取某一项就比较麻烦。很多情况下，简单的列表遍历用哪个都一样。数组的优势在于需要index的时候，随时读取某一个。链表可以模拟任何流程，并可以随时中断/继续，比如react的fiber使用链表可以随时回到当前状态

## 商汤科技

### 1面

1. 看见你写的文章，还很深的，说一下这几篇【描述】

> 挺surprise的，居然有人那么用心看我文章，还看细节。于是带着兴奋的心情迫不及待和他介绍了

2. react的class组件和函数组件有什么不同【描述】

> class组件有生命周期有状态、函数组件就看返回值无状态(现在有hook了)

3. class组件存在问题，函数组件的问题【举例】

> 又是经典问题，class组件随着项目变大生命周期逻辑过于耦合、庞大，函数组件可以更细粒。class组件需要走实例化流程，但可以使用装饰器。函数组件就不能使用装饰器了，函数组件ref需要forwardRef，不用纠结this。如果代码量都很多，函数组件可读性高一些

4. class组件和函数组件diff、渲染、挂载过程差异【描述】

> 其实是一样的，最终结果有点不一样，可以看打包后代码

5. em、px、rem【描述】
6. rxjs在复杂异步管理的作用【举例】

> 没有在项目用过，他们那边是挺需要rxjs这种异步管理的，把流程视为时间轴，使用管道操作符操作异步数据流。一切异步流程你都可以画在弹珠图上清晰看见

1. 完全不同的域名共享localstorage的方案【描述】

> 公共服务器双工通信(比较简单暴力)、嵌套iframe并双向通信(只要一个变了，马上通知另一方，保证他们的localstorage一模一样)

9. 如果react项目要接入redux，每一步要怎么做【举例】

> 从api的使用到源码的实现。源码流程：provider传入store，connect要return一个组件，使用mapstatetoprops和mapdispatchtoprops扩展props，然后subscribe一下store，每次变化更新组件

10. 对象、引用类型、immutable、...、Object.assign【描述】

> 放松一下，我们聊些简单的......

11. 写一个你熟悉的吧，antd的tree渲染这个数据结构【伪代码】

> 在面试的页面上直接写jsx，高亮看得难受，也没代码提示。真的是放松题了，一个递归，tree包一下treenode，完事

### 2面

1. 项目深挖，反问一些问题【描述】

> 这里问了做数据mock的时候，如果有鉴权逻辑怎么办。可能有的人就马上动手了：做一个鉴权服务。其实不需要，你要清楚你的目的是什么，你只需要mock鉴权失败的时候返回的内容就行，到时候你可以随意切换mock数据

2. settimeout(a, 3000); ...同步代码执行很久 settimeout(b, 1000)多少种情况，临界值【描述】【举例】

> 同步代码执行时间 <= 3000，顺序。> 3000先b再a

4. 浏览器底层对线程冲突的实现【描述】

> 不知道了。对方说因为有一个watcher，你可以看一下Chrome底层实现，比死记硬背宏任务微任务更好

5. 一个页面，有图片、文字等各种内容，要求不能打乱排版和比例，如何兼容所有端【举例】

> rem方案。但还是要看情况，一般情况下，手机是竖着的，电脑是横着的，总要对其中一个补白，不然很难看

6. 浏览器缓存在spa的应用。html要不要缓存，为什么？其他资源呢，为什么【举例】

> html不缓存，都是引用js，要保证最新。其他可以缓存，每次发布文件名都有md5保证不一样，而且也是增量部署的

7. react性能优化【举例】

> 又是老问题了。scu生命周期、memo；usememo & usecallback记住一些值不用重新计算；虚拟列表；immutable+scu/memo；原生js；

8. 100条香蕉，猴子离家50米，猴子每走一米要吃一根香蕉，猴子最大负重是50条香蕉。问猴子怎么做，可以做到拿回家香蕉最大化，最大可以拿到多少条回家【伪代码】

> 结果是啥不重要了，主要是思路。他问用dp还是贪心，我说都行吧，dp肯定是可以，贪心也算得上是。写了一段伪代码，在离家n米处有s条香蕉，每次选择回头或者前进，回头的话会损失2 * (50 - n) + 1，并补全到50条(库存能支持的情况下，相当于新增量减去损失量);选择前进，只会减少1。每一步选择最多剩余的，等于下一步的s值。临界点：离家0米，s就是答案; 离家50米，s就是50


```bash
2面是有一点挑战的，因为setimeout那道题，面试官建议我看一下浏览器底层和v8，这样子深入可以看到更多的东西。他说，只抱着一个mdn能学好前端吗？他们的业务是有做底层的，做直播+wasm的，技术还是挺牛逼的。国内做这方面的人也非常少。还有我问了一下如何通过wasm让浏览器支持h265，他说只要你看视频编码解码，加上wasm基础，一个月内就可以了，这些东西外行人觉得牛逼，其实只要你深入看一下浏览器底层一些东西，看一下Chrome底层是怎么运行的，就一目了然了。面试官在听我项目的时候，说我产品sense很好。因为在我的一些项目中，除了身为开发，还要做项目规划、定方案、架构设计，还要做一名技术产品经理提需求并争取一些人力。后面还聊了很多其他的，他最后还介绍了一些国外优秀的文档资源给我，可惜由于面试讨论得太兴奋，忘记加面试官微信了，有点亏
```

### 3面

1. 项目深挖、提问【描述】
2. 你项目怎么接入ci的，整个流水线是怎样【描述】

> git提交 => lint执行 => 触发hook => 读取yml文件执行命令 => 部署 => 调用机器人接口发布企业微信群周知

3. 设计一个短链接系统【描述】

> 页面链接映射 => 关键字符串 => 映射到时间戳 + 数字序号转高进制 => 获得短链接。第一次映射是为了满足多对一，第二次映射是一对一，进制转换为了简化字符串

## 快手

### 1面

1. react升到16，有什么坑需要解决【描述】
2. 16后性能好多少，测过吗，你怎么测的。顺便问一下各种测速上报【描述】
3. 为什么16的性能好，fiber流程是怎样的【描述】
4. 为什么两个will生命周期要被标记为danger【描述】
5. 用了react的哪些新特性，带来什么收益【举例】
6. 浏览器http缓存那一套【描述】
7. from memory cache、from dist cache什么区别，性能对比【描述】
8. 根据什么而选from memory cache、from dist cache这两种缓存方案【描述】
9. service worker怎么理解【举例】
10. 输出一个字符串全排列【编程】

### 2面

1. 项目深挖，反问一些问题【描述】【举例】
2. react的setstate过程【描述】
3. 说一下几种情况的setstate的输出，为什么【描述】
4. react的合成事件【描述】
5. 收到新state怎么更新，发生了什么事情【描述】
6. ssr太久，你觉得什么原因导致【举例】
7. ssr优化措施【举例】
8. react的ssr和传统的模版引擎渲染对比【描述】
9. ssr兜底容灾措施、降级措施【举例】
10. 如何选择csr还是ssr，设计一套方案切换，让尽量多的用户得到最好的体验【举例】
11. 有一个请求函数request，封装一下这个函数，使得多个相同的请求过来的时候不发请求，直接读取第一个的结果【编程】
12. 有一个排序数组，返回第一个比目标数字小的数，要求log(n)【编程】

### 3面

1. 4个砝码，一个天平，问能称出多少种重量（砝码可以两边都放，砝码重量自己随便定）【写出运算过程】

> 砝码重量自己随便定，就定一个理想化的情况，四个不一样的、且加起来也不存在重复的就行。如果你要考虑存在重量一样的两个砝码或者某些组合的和有相等的过程，那分类讨论够你折腾几个小时的。但面试只有20分钟，所以直接看理想状态的就行
